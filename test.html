<!DOCTYPE html>
<html>
<head>
    <title>Tests for Basil</title>
    <script src="chai.js"></script>
    <script src="basil.js"></script>
    <script type="text/javascript">
        setTimeout(function() {
            document.getElementById("debug").innerHTML = "Generated: " + new Date().toLocaleTimeString();
        }, 50);
    </script>

    <script src="basil-tests.js"></script>
</head>
<body style="background: #FFFFCC">
<h1>Tests for Basil</h1>

<div id="test-output">

</div>

<hr/>
<div id="debug"/>

</body>

<script type="text/javascript">
    setTimeout(function() {
        var output = document.getElementById("test-output");
        console.log(Basil.results);
        output.innerHTML = printRecursive(Basil.results);

        function printRecursive(results) {
            if (!results.length)
                return '';

            var str = '<ul>';
            results.forEach(function(result, i) {
                str += '<li>{name}{children}</li>'
                        .replace('{name}', result.name)
                        .replace('{children}', printRecursive(result.children));
            });
            str += '</ul>';
            return str;
        }
    }, 200);

</script>
</html>